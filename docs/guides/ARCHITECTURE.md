# í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜ ë° ì£¼ì°¨ë³„ ì—°ê´€ê´€ê³„

## ğŸ“ í´ë” êµ¬ì¡° ê°œìš”

```
src/
â”œâ”€â”€ week1/          # RAG ê°œë… í•™ìŠµ (ë…ë¦½ì )
â”œâ”€â”€ week2/          # PDF ì „ì²˜ë¦¬ & ì²­í‚¹
â”œâ”€â”€ week3/          # ì„ë² ë”© & ë²¡í„° ì¸ë±ìŠ¤
â”œâ”€â”€ week4/          # RAG ì²´ì¸ êµ¬ì„± (í•µì‹¬ ëª¨ë“ˆ)
â”œâ”€â”€ week5/          # í”„ë¡¬í”„íŠ¸ íŠœë‹ + LangGraph
â”œâ”€â”€ week6/          # FastAPI ì„œë²„
â””â”€â”€ week7/          # Dash UI
```

---

## ğŸ”— ì£¼ì°¨ë³„ ì—°ê´€ê´€ê³„

### 1. ë°ì´í„° íë¦„ (íŒŒì´í”„ë¼ì¸)

```
Week1 (ê°œë… í•™ìŠµ)
    â†“
Week2 (PDF â†’ ì²­í¬)
    â†“
Week3 (ì²­í¬ â†’ ì„ë² ë”© â†’ ì¸ë±ìŠ¤)
    â†“
Week4 (ì¸ë±ìŠ¤ â†’ RAG ì²´ì¸)
    â†“
Week5 (í”„ë¡¬í”„íŠ¸ íŠœë‹ + LangGraph ë°ëª¨)
    â†“
Week6 (RAG ì²´ì¸ â†’ FastAPI ì„œë²„)
    â†“
Week7 (FastAPI â†’ Dash UI)
```

### 2. ì½”ë“œ ì˜ì¡´ì„± (Import ê´€ê³„)

#### Week1 â†’ ë…ë¦½ì 
- **íŒŒì¼**: `week1_hands_on.py`
- **ì˜ì¡´ì„±**: ì—†ìŒ (ê°œë… í•™ìŠµìš©)

#### Week2 â†’ ë…ë¦½ì 
- **íŒŒì¼**: 
  - `run_week2.py` (ë©”ì¸ ì‹¤í–‰)
  - `pdf_loader.py` (PDF ì¶”ì¶œ)
  - `chunking_pipeline.py` (ì²­í‚¹)
- **ì˜ì¡´ì„±**: ì—†ìŒ
- **ì¶œë ¥**: `data/processed/<slug>/chunks/*.json`

#### Week3 â†’ Week2 ë°ì´í„° ì‚¬ìš©
- **íŒŒì¼**:
  - `run_week3.py` (ë©”ì¸ ì‹¤í–‰)
  - `embedding_pipeline.py` (ì„ë² ë”© ìƒì„±)
  - `vector_store_builder.py` (FAISS ì¸ë±ìŠ¤ ìƒì„±)
- **ì˜ì¡´ì„±**: Week2ì˜ `chunks/*.json` íŒŒì¼
- **ì…ë ¥**: `data/processed/<slug>/chunks/*.json`
- **ì¶œë ¥**: `data/processed/index/<slug>/<strategy>/index.faiss`, `metadata.json`

#### Week4 â†’ Week3 ì¸ë±ìŠ¤ ì‚¬ìš© (í•µì‹¬ ëª¨ë“ˆ)
- **íŒŒì¼**:
  - `run_week4.py` (ë©”ì¸ ì‹¤í–‰)
  - `rag_chain.py` â­ **í•µì‹¬ ëª¨ë“ˆ** (ë‹¤ë¥¸ ì£¼ì°¨ì—ì„œ import)
  - `retrieval_eval.py` (í‰ê°€)
- **ì˜ì¡´ì„±**: Week3ì˜ ì¸ë±ìŠ¤ íŒŒì¼
- **ì…ë ¥**: `data/processed/index/<slug>/<strategy>/`
- **ì¶œë ¥**: RAG ì²´ì¸ ê°ì²´ (`build_rag_chain()`)
- **Export**: 
  - `build_rag_chain()` â†’ Week6ì—ì„œ ì‚¬ìš©
  - `DenseRetriever`, `load_documents_and_vectors` â†’ Week5ì—ì„œ ì‚¬ìš©

#### Week5 â†’ Week4 ëª¨ë“ˆ ì‚¬ìš©
- **íŒŒì¼**:
  - `run_week5.py` (ë©”ì¸ ì‹¤í–‰)
  - `prompt_tuning.py` (í”„ë¡¬í”„íŠ¸ íŠœë‹)
  - `langgraph_rag.py` (LangGraph RAG, ì¡°ê±´ë¶€ ë¶„ê¸° ì§€ì›)
- **ì˜ì¡´ì„±**: 
  - `from week4.rag_chain import DenseRetriever, load_documents_and_vectors`
  - Week3ì˜ ì¸ë±ìŠ¤ íŒŒì¼ (LangGraph ë°ëª¨ìš©)
- **ì…ë ¥**: Week3 ì¸ë±ìŠ¤ + Week4 ëª¨ë“ˆ
- **ì¶œë ¥**: í”„ë¡¬í”„íŠ¸ íŠœë‹ ê²°ê³¼ + LangGraph ë°ëª¨ (ì¡°ê±´ë¶€ ë¶„ê¸°, ì¬ê²€ìƒ‰ ê¸°ëŠ¥ í¬í•¨)

#### Week6 â†’ Week4 ëª¨ë“ˆ ì‚¬ìš©
- **íŒŒì¼**:
  - `run_week6.py` (ë©”ì¸ ì‹¤í–‰)
  - `api_server.py` â­ **FastAPI ì„œë²„**
  - `smoke_test.py` (í…ŒìŠ¤íŠ¸)
- **ì˜ì¡´ì„±**: 
  - `from week4.rag_chain import build_rag_chain`
  - Week3ì˜ ì¸ë±ìŠ¤ íŒŒì¼
- **ì…ë ¥**: Week3 ì¸ë±ìŠ¤ + Week4ì˜ `build_rag_chain()`
- **ì¶œë ¥**: FastAPI ì„œë²„ (`POST /query` ì—”ë“œí¬ì¸íŠ¸)

#### Week7 â†’ Week6 API ì‚¬ìš©
- **íŒŒì¼**:
  - `run_week7.py` (ë©”ì¸ ì‹¤í–‰)
  - `dash_app.py` â­ **Dash UI**
- **ì˜ì¡´ì„±**: Week6 FastAPI ì„œë²„ (HTTP í†µì‹ )
- **ì…ë ¥**: Week6 API ì—”ë“œí¬ì¸íŠ¸ (`http://localhost:8000/query`)
- **ì¶œë ¥**: Dash ì›¹ UI (`http://localhost:8050`)

---

## ğŸ“Š ìƒì„¸ ì˜ì¡´ì„± ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì½”ë“œ ì˜ì¡´ì„± ê´€ê³„                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Week1 (ë…ë¦½)
    â”‚
Week2 (ë…ë¦½)
    â”‚
    â”œâ”€â†’ Week3 (Week2 ë°ì´í„° ì‚¬ìš©)
    â”‚       â”‚
    â”‚       â””â”€â†’ Week4 (Week3 ì¸ë±ìŠ¤ ì‚¬ìš©) â­ í•µì‹¬ ëª¨ë“ˆ
    â”‚               â”‚
    â”‚               â”œâ”€â†’ Week5 (Week4 ëª¨ë“ˆ import)
    â”‚               â”‚       â””â”€â†’ DenseRetriever, load_documents_and_vectors
    â”‚               â”‚
    â”‚               â””â”€â†’ Week6 (Week4 ëª¨ë“ˆ import)
    â”‚                       â””â”€â†’ build_rag_chain()
    â”‚                               â”‚
    â”‚                               â””â”€â†’ Week7 (Week6 API HTTP í˜¸ì¶œ)
```

---

## ğŸ”‘ í•µì‹¬ ëª¨ë“ˆ: `week4/rag_chain.py`

ì´ íŒŒì¼ì´ **ê°€ì¥ ì¤‘ìš”í•œ ëª¨ë“ˆ**ì…ë‹ˆë‹¤:

### Exportí•˜ëŠ” í•¨ìˆ˜/í´ë˜ìŠ¤:
1. **`build_rag_chain()`**
   - Week6ì—ì„œ ì‚¬ìš©
   - ì¸ë±ìŠ¤ ë””ë ‰í† ë¦¬ë¥¼ ë°›ì•„ RAG ì²´ì¸ ìƒì„±

2. **`DenseRetriever`**
   - Week5ì—ì„œ ì‚¬ìš©
   - ë²¡í„° ê²€ìƒ‰ê¸° í´ë˜ìŠ¤

3. **`load_documents_and_vectors()`**
   - Week5ì—ì„œ ì‚¬ìš©
   - ì¸ë±ìŠ¤ì—ì„œ ë¬¸ì„œì™€ ë²¡í„° ë¡œë“œ

### ì‚¬ìš©ì²˜:
- **Week5**: LangGraph ë°ëª¨ì—ì„œ ê²€ìƒ‰ê¸°ë¡œ ì‚¬ìš©
- **Week6**: FastAPI ì„œë²„ì˜ í•µì‹¬ RAG ì²´ì¸ìœ¼ë¡œ ì‚¬ìš©

---

## ğŸ“¦ íŒ¨í‚¤ì§€ êµ¬ì¡°

### `__init__.py`ê°€ ìˆëŠ” í´ë” (íŒ¨í‚¤ì§€)
- `week4/` - ë‹¤ë¥¸ ì£¼ì°¨ì—ì„œ import ê°€ëŠ¥
- `week5/` - ë‹¤ë¥¸ ì£¼ì°¨ì—ì„œ import ê°€ëŠ¥

### Import íŒ¨í„´:
```python
# Week5ì—ì„œ Week4 ëª¨ë“ˆ ì‚¬ìš©
from week4.rag_chain import DenseRetriever, load_documents_and_vectors

# Week6ì—ì„œ Week4 ëª¨ë“ˆ ì‚¬ìš©
from week4.rag_chain import build_rag_chain

# Week7ì—ì„œ Week7 ëª¨ë“ˆ ì‚¬ìš© (ê°™ì€ íŒ¨í‚¤ì§€)
import week7.dash_app as dash_app
```

---

## ğŸ—‚ï¸ ë°ì´í„° íë¦„

### 1. Week2 â†’ Week3
```
data/processed/<slug>/chunks/*.json
    â†“
Week3 ì„ë² ë”© ìƒì„±
    â†“
data/processed/index/<slug>/<strategy>/
    â”œâ”€â”€ index.faiss
    â”œâ”€â”€ metadata.json
    â””â”€â”€ chunks_with_ids.json
```

### 2. Week3 â†’ Week4/Week5/Week6
```
ì¸ë±ìŠ¤ ë””ë ‰í† ë¦¬
    â†“
load_documents_and_vectors() ë˜ëŠ” build_rag_chain()
    â†“
RAG ì²´ì¸ ì‹¤í–‰
```

### 3. Week6 â†’ Week7
```
FastAPI ì„œë²„ (HTTP)
    â†“
POST /query
    â†“
Dash UI (HTTP í´ë¼ì´ì–¸íŠ¸)
```

---

## ğŸ”„ ì‹¤í–‰ ìˆœì„œ

### í•„ìˆ˜ ìˆœì„œ:
1. **Week2**: PDF â†’ ì²­í¬ ìƒì„±
2. **Week3**: ì²­í¬ â†’ ì¸ë±ìŠ¤ ìƒì„±
3. **Week4**: ì¸ë±ìŠ¤ â†’ RAG ì²´ì¸ í…ŒìŠ¤íŠ¸
4. **Week5**: í”„ë¡¬í”„íŠ¸ íŠœë‹ (ì„ íƒ)
5. **Week6**: FastAPI ì„œë²„ ì‹¤í–‰
6. **Week7**: Dash UI ì‹¤í–‰ (Week6 í•„ìš”)

### ë…ë¦½ ì‹¤í–‰ ê°€ëŠ¥:
- **Week1**: ì–¸ì œë“  ì‹¤í–‰ ê°€ëŠ¥
- **Week2**: ë…ë¦½ ì‹¤í–‰ ê°€ëŠ¥
- **Week3**: Week2 ì™„ë£Œ í›„ ì‹¤í–‰
- **Week4**: Week3 ì™„ë£Œ í›„ ì‹¤í–‰
- **Week5**: Week3 ì™„ë£Œ í›„ ì‹¤í–‰ (Week4 ëª¨ë“ˆ í•„ìš”)
- **Week6**: Week3 ì™„ë£Œ í›„ ì‹¤í–‰ (Week4 ëª¨ë“ˆ í•„ìš”)
- **Week7**: Week6 ì‹¤í–‰ ì¤‘ì¼ ë•Œë§Œ ì‹¤í–‰ ê°€ëŠ¥

---

## ğŸ’¡ ì£¼ìš” íŠ¹ì§•

1. **Week4ê°€ í•µì‹¬**: ë‹¤ë¥¸ ì£¼ì°¨ë“¤ì´ Week4ì˜ ëª¨ë“ˆì„ ì¬ì‚¬ìš©
2. **ë°ì´í„° ì¤‘ì‹¬**: ì£¼ì°¨ ê°„ ë°ì´í„° íŒŒì¼ë¡œ ì—°ê²° (ì½”ë“œ ì§ì ‘ importë³´ë‹¤ ë°ì´í„° íë¦„ì´ ì¤‘ìš”)
3. **ì ì§„ì  êµ¬ì¶•**: ê° ì£¼ì°¨ê°€ ì´ì „ ì£¼ì°¨ì˜ ê²°ê³¼ë¬¼ì„ ì‚¬ìš©
4. **ëª¨ë“ˆí™”**: Week4ì˜ `rag_chain.py`ê°€ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ í•µì‹¬ ëª¨ë“ˆ

---

## ğŸ“ ìš”ì•½

- **Week1-3**: ë°ì´í„° ì¤€ë¹„ ë‹¨ê³„ (ë…ë¦½ì  ì‹¤í–‰)
- **Week4**: í•µì‹¬ RAG ëª¨ë“ˆ (ë‹¤ë¥¸ ì£¼ì°¨ì—ì„œ import)
- **Week5**: í”„ë¡¬í”„íŠ¸ ì‹¤í—˜ (Week4 ëª¨ë“ˆ ì‚¬ìš©)
- **Week6**: API ì„œë²„ (Week4 ëª¨ë“ˆ ì‚¬ìš©)
- **Week7**: ì›¹ UI (Week6 API í˜¸ì¶œ)

**í•µì‹¬**: Week4ì˜ `rag_chain.py`ê°€ í”„ë¡œì íŠ¸ì˜ ì¤‘ì‹¬ì´ë©°, Week5ì™€ Week6ê°€ ì´ë¥¼ ì¬ì‚¬ìš©í•©ë‹ˆë‹¤.

